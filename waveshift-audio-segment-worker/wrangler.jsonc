{
  "name": "waveshift-audio-segment-worker",
  "main": "src/index.ts",
  "compatibility_date": "2024-12-01",
  "compatibility_flags": ["nodejs_compat"],
  
  // Container é…ç½®
  "containers": [{
    "name": "waveshift-audio-segment-container",
    "class_name": "AudioSegmentContainer",
    "image": "./Dockerfile",
    "instance_type": "standard",
    "max_instances": 3
  }],
  
  // Durable Object ç»‘å®š
  "durable_objects": {
    "bindings": [{
      "name": "AUDIO_SEGMENT_CONTAINER",
      "class_name": "AudioSegmentContainer"
    }]
  },
  
  // ç¯å¢ƒå˜é‡
  "vars": {
    "ENVIRONMENT": "production",
    "CLOUDFLARE_ACCOUNT_ID": "1298fa35ac940c688dc1b6d8f5eead72",
    "R2_BUCKET_NAME": "waveshift-media",
    "R2_PUBLIC_DOMAIN": "media.waveshift.net",
    // ğŸµ éŸ³é¢‘åˆ‡ç‰‡æ–°é…ç½®
    "GAP_DURATION_MS": "500",      // å¥å­é—´gapé™éŸ³æ—¶é•¿
    "MAX_DURATION_MS": "12000",    // æœ€å¤§ç‰‡æ®µæ—¶é•¿ï¼ˆåŒ…å«gapï¼‰
    "MIN_DURATION_MS": "1500"      // æœ€å°ä¿ç•™æ—¶é•¿ï¼ˆè¿‡æ»¤å­¤ç«‹ç‰‡æ®µï¼‰
  },
  
  // R2 å­˜å‚¨ç»‘å®š
  "r2_buckets": [{
    "binding": "R2_BUCKET",
    "bucket_name": "waveshift-media"
  }],
  
  // æ•°æ®åº“è¿ç§»
  "migrations": [{
    "tag": "v1",
    "new_sqlite_classes": ["AudioSegmentContainer"]
  }],
  
  // æ—¥å¿—è§‚æµ‹é…ç½®
  "observability": {
    "enabled": true
  },
  
  // æ„å»ºé…ç½® - ç§»é™¤ TypeScript æ„å»º
  // "build": {
  //   "command": "npm run build"
  // }
}